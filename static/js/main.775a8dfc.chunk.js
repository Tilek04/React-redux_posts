(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(9),a=n.n(r),i=(n(25),n(26),n(4)),s=n(2),u="INCREMENT",o="DECREMENT",j="INPUT_TEXT",d="COMMENT_CREACTED",l="COMMENT_UPDATE",b="COMMENT_DELETE",O="COMMENTS_LOAD",m="LOADER_DISPLAY_ON",f="LOADER_DISPLAY_OFF",p="ERROR_DISPLAY_ON",v="ERROR_DISPLAY_OFF",x={likes:0},h=n(14),g=n.n(h),y=n(17);function E(){return{type:f}}function N(e){return function(t){t({type:p,text:e},setTimeout((function(){t({type:v})}),2e3))}}var k=n(1);var R=Object(i.b)((function(e){return{likes:e.likesReducer.likes}}),(function(e){return{onIncrementLikes:function(){return e({type:u})},onDecrementLikes:function(){return e({type:o})}}}))((function(e){return Object(k.jsxs)("div",{className:"button-controls",children:[Object(k.jsxs)("button",{onClick:e.onIncrementLikes,children:["\u2665",e.likes]}),Object(k.jsx)("button",{onClick:e.onDecrementLikes,children:"Dislike"})]})})),D=function(e){var t=Object(i.d)((function(e){return e.inputReducer.text})),n=Object(i.c)();return Object(k.jsxs)("div",{className:"card-title",children:[Object(k.jsx)("div",{className:"card-title-top",children:Object(k.jsx)("input",{type:"text",onChange:function(e){n(function(e){return{type:j,text:e}}(e.target.value))}})}),Object(k.jsx)("p",{children:t})]})},T=n(6);var C=function(e){var t=e.data,n=Object(c.useState)(""),r=Object(T.a)(n,2),a=r[0],s=r[1],u=t.text,o=t.id;Object(c.useEffect)((function(){u&&s(u)}),[u]);var j=Object(i.c)();return Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(function(e,t){return{type:l,data:{text:e,id:t}}}(a,o))},className:"comments-item",children:[Object(k.jsx)("div",{onClick:function(e){e.preventDefault(),j(function(e){return{type:b,id:e}}(o))},className:"comments-item-delete",children:"\xd7"}),Object(k.jsx)("input",{type:"text",value:a,onChange:function(e){s(e.target.value)}}),Object(k.jsx)("input",{type:"submit",hidden:!0})]})},_=n(18),I=n.n(_);var L=function(e){var t=Object(c.useState)(""),n=Object(T.a)(t,2),r=n[0],a=n[1],s=Object(i.d)((function(e){return e.commentsReducer.comments})),u=Object(i.c)();return Object(c.useEffect)((function(){u(function(){var e=Object(y.a)(g.a.mark((function e(t){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m}),e.next=4,fetch("https://jsonplaceholder.typicode.com/comments");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,setTimeout((function(){t({type:O,data:c}),t(E())}),3e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(N("\u041e\u0449\u0438\u0431\u043a\u0430 API")),t(E());case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(k.jsxs)("div",{className:"card-comments",children:[Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=I()();u(function(e,t){return{type:d,data:{text:e,id:t}}}(r,t))},className:"comments-item-create",children:[Object(k.jsx)("input",{type:"text",value:r,onChange:function(e){a(e.target.value)}}),Object(k.jsx)("input",{type:"submit",hidden:!0})]}),!!s.length&&s.map((function(e){return Object(k.jsx)(C,{data:e},e.id)}))]})},A=n(19),M=n.n(A),S={loading:!1,error:null},w=function(e){var t=Object(i.d)((function(e){return e.appReducer.loading}));return console.log("spinner >>>",t),Object(k.jsx)("div",{className:"loader-style",children:Object(k.jsx)(M.a,{type:"TailSpin",color:"#00BFFF",height:100,visible:t})})};var F=function(){var e=Object(i.d)((function(e){return e.appReducer.error}));return console.log("errror",e),Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)("div",{className:"wrap",children:[Object(k.jsx)(w,{}),Object(k.jsxs)("div",{className:"card",children:[e&&Object(k.jsx)("div",{className:"error-message",children:e}),Object(k.jsxs)("div",{className:"card-image",children:[Object(k.jsx)("img",{src:"./sea.jpg",alt:"surfing"}),Object(k.jsx)(D,{}),Object(k.jsx)(R,{})]}),Object(k.jsx)(L,{})]})]})})},P=n(20),Y=n(7),B={text:""},J=n(5),U={comments:[]},X=Object(Y.b)({likesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(s.a)(Object(s.a)({},e),{},{likes:e.likes+1});case o:return Object(s.a)(Object(s.a)({},e),{},{likes:e.likes-1});default:return e}},inputReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;return t.type===j?Object(s.a)(Object(s.a)({},e),{},{text:t.text}):e},commentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(console.log("comments reducer",t),t.type){case d:return Object(s.a)(Object(s.a)({},e),{},{comments:[].concat(Object(J.a)(e.comments),[t.data])});case O:var n=t.data.map((function(e){return{text:e.name,id:e.id}}));return Object(s.a)(Object(s.a)({},e),{},{comments:n});case l:var c=t.data,r=e.comments,a=r.findIndex((function(e){return e.id===c.id})),i=[].concat(Object(J.a)(r.slice(0,a)),[c],Object(J.a)(r.slice(a+1)));return Object(s.a)(Object(s.a)({},e),{},{comments:i});case b:return function(){var n=t.id,c=e.comments,r=c.findIndex((function(e){return e.id===n})),a=[].concat(Object(J.a)(c.slice(0,r)),Object(J.a)(c.slice(r+1)));return Object(s.a)(Object(s.a)({},e),{},{comments:a})}();default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case f:return Object(s.a)(Object(s.a)({},e),{},{loading:!1});case p:return Object(s.a)(Object(s.a)({},e),{},{error:t.text});case v:return Object(s.a)(Object(s.a)({},e),{},{error:null});default:return e}}});var q=Object(Y.d)(X,Object(Y.c)(Object(Y.a)(P.a,(function(e){var t=e.dispatch,n=["\u041e\u0441\u0435\u043b","\u0418\u0449\u0430\u043a"];return function(e){return function(c){if(c.type===d&&n.some((function(e){return c.data.text.includes(e)})))return t(N("\u041d\u043e\u0440\u043c \u043e\u0431\u0449\u0430\u0439\u0441\u044f"));return e(c)}}}))));a.a.render(Object(k.jsx)(i.a,{store:q,children:Object(k.jsx)(F,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.775a8dfc.chunk.js.map